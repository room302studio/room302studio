/**
 * anime.js - ESM
 * @version v4.0.0-beta.98
 * @author Julian Garnier
 * @license MIT
 * @copyright (c) 2024 Julian Garnier
 * @see animejs.com
 */
const t="undefined"!=typeof window,e=t?window:null,s=t?document:null,i={replace:0,none:1,blend:2},n=Symbol(),r=Symbol(),o=Symbol(),a=Symbol(),l=Symbol(),h=Symbol(),u=1e-11,d=1e12,c=1e3,p="",_=new Map;_.set("x","translateX"),_.set("y","translateY"),_.set("z","translateZ");const m=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],f=m.reduce(((t,e)=>({...t,[e]:e+"("})),{}),g=()=>{},y=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,b=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,v=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,T=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,x=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,S=/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g,w=/^([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?)+([a-z]+|%)$/i,N=/([a-z])([A-Z])/g,D=/(\w+)(\([^)]+\)+)/g,$=/(\*=|\+=|-=)/,k={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:120,loop:0,reversed:!1,alternate:!1,autoplay:!0,duration:c,delay:0,loopDelay:0,ease:"outQuad",composition:i.replace,modifier:t=>t,onBegin:g,onUpdate:g,onTick:g,onRender:g,onLoop:g,onComplete:g},B=(t,e)=>0===t.indexOf(e),R=Date.now,C=t=>Array.isArray(t),M=t=>t&&t.constructor===Object,A=t=>"number"==typeof t&&!isNaN(t),E=t=>"string"==typeof t,L=t=>"function"==typeof t,O=t=>void 0===t,P=t=>O(t)||null===t,I=e=>t&&e instanceof SVGElement,q=t=>y.test(t),W=t=>B(t,"rgb"),F=t=>B(t,"hsl"),U=t=>!k.hasOwnProperty(t),V=t=>E(t)?parseFloat(t):t,X=Math.pow,Y=Math.sqrt,z=Math.sin,H=Math.cos,Z=Math.abs,j=Math.exp,G=Math.ceil,Q=Math.floor,J=Math.asin,K=Math.max,tt=Math.atan2,et=Math.PI,st=(t,e,s)=>t<e?e:t>s?s:t,it=(t,e)=>{const s=10**(e||0);return Math.round(t*s)/s},nt=(t,e)=>e?Math.round(t/e)*e:t,rt=(t,e,s)=>t+(e-t)*s,ot=t=>t===1/0?d:t===-1/0?-d:t,at=t=>t<u?u:t,lt=e=>t?(E(e)&&(e=(t=>{try{return s.querySelectorAll(t)}catch(t){return}})(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e]):[e],ht=t=>C(t)?[...t]:t,ut=(t,e)=>{const s={...t};for(let i in e)s[i]=O(t[i])?e[i]:t[i];return s},dt=(t,e,s,i="_prev",n="_next")=>{let r=t._head,o=n;for(s&&(r=t._tail,o=i);r;){const t=r[o];e(r),r=t}},ct=(t,e,s="_prev",i="_next")=>{const n=e[s],r=e[i];n?n[i]=r:t._head=r,r?r[s]=n:t._tail=n,e[s]=null,e[i]=null},pt=(t,e,s,i="_prev",n="_next")=>{let r=t._tail;for(;r&&s&&s(r,e);)r=r[i];const o=r?r[n]:t._head;r?r[n]=e:t._head=e,o?o[i]=e:t._tail=e,e[i]=r,e[n]=o};class _t{constructor(){this.currentTime=0,this.deltaTime=0,this._elapsedTime=0,this._startTime=0,this._lastTime=0,this._scheduledTime=0,this._frameDuration=c/120,this._fps=120,this._speed=1,this._hasChildren=!1}get frameRate(){return this._fps}set frameRate(t){const e=this._frameDuration,s=+t,i=s<u?u:s,n=c/i;this._fps=i,this._frameDuration=n,this._scheduledTime+=n-e}get playbackRate(){return this._speed}set playbackRate(t){const e=+t;this._speed=e<u?u:e}requestTick(t){const e=this._scheduledTime,s=this._elapsedTime;if(this._elapsedTime+=t-s,s<e)return 0;const i=this._frameDuration,n=s-e;return this._scheduledTime+=n<i?i:n,1}computeDeltaTime(t){const e=t-this._lastTime;return this.deltaTime=e,this._lastTime=t,e}}const mt=(t,e,s,n,r)=>{const o=t.duration,l=t.currentTime,h=t._currentIteration,u=t._iterationDuration,d=t._iterationCount,c=t._loopDelay,_=t._reversed,m=t._alternate,g=t._hasChildren,y=t._delay,b=y+u,v=st(e-y,-y,o),T=v-l,x=v>=o,S=2===r,w=1===r,N=S||(T<0?-1*T:T)>=200;let D=t.began,$=0,k=v;if(d>1){const e=~~(v/(u+(x?0:c)));t._currentIteration=st(e,0,d),x&&t._currentIteration--,$=t._currentIteration%2,k=v%(u+c)}const B=_^(m&&$),R=t._ease;let C=x?B?0:o:B?u-k:k;R&&(C=u*R(C/u)||0);const M=C<t._iterationTime,A=N?M?2:1:0;t._iterationTime=C,t._backwards=M&&!B,!s&&!D&&v>0&&(D=t.began=!0,t.onBegin(t)),t.currentTime=v;let E=0;if(D&&t._currentIteration!==h&&(t.onLoop(t),g&&dt(t,(t=>t.reset()),!0)),(S||w&&(e>=y&&e<=b||e<=y&&l>0||e>=b&&l!==o)||C>=b&&l!==o||C<=y&&l>0||e<=l&&l===o&&t.completed)&&(D&&(t.computeDeltaTime(l),t.onUpdate(t)),!g)){let e,s,r,o,l=t._head,h=0;const u=t._offset+y+C;for(;l;){const t=l._composition,d=l._currentTime,c=l._changeDuration,_=l._absoluteStartTime+l._changeDuration,m=l._nextRep,g=l._prevRep,y=t===i.blend,b=t===i.none;if((A||(d!==c||u<=_+(m?m._delay:0))&&(0!==d||u>=l._absoluteStartTime))&&(b||!l._isOverridden&&(!l._isOverlapped||u<=_)&&(!m||m._isOverridden||u<=m._absoluteStartTime)&&(!g||g._isOverridden||u>=g._absoluteStartTime+g._changeDuration+l._delay))){const t=l._currentTime=st(C-l._startTime,0,c),i=l._ease(t/l._updateDuration),u=l._modifier,d=l._valueType;let p,_;if(0===d)p=_=u(rt(l._fromNumber,l._toNumber,i));else if(1===d)_=u(it(rt(l._fromNumber,l._toNumber,i),3)),p=`${_}${l._unit}`;else if(2===d){const t=l._fromNumbers,e=l._toNumbers;p=`rgba(${it(st(u(rt(t[0],e[0],i)),0,255),0)},${it(st(u(rt(t[1],e[1],i)),0,255),0)},${it(st(u(rt(t[2],e[2],i)),0,255),0)},${st(u(rt(t[3],e[3],i)),0,1)})`}else if(3===d){p=l._strings[0];for(let t=0,e=l._toNumbers.length;t<e;t++){const e=u(it(rt(l._fromNumbers[t],l._toNumbers[t],i),3)),s=l._strings[t+1];p+=`${s?e+s:e}`,y&&(l._numbers[t]=e)}}if(b||(l._number=_),n||y)l._value=p;else{const t=l.property,i=l._tweenType;e=l.target,1===i?e[t]=p:2===i?e.setAttribute(t,p):(s=e.style,4===i?(e!==r&&(r=e,o=e[a]),o[t]=p,h=1):3===i?s[t]=p:5===i&&s.setProperty(t,p)),D&&(E=1)}}if(h&&l._renderTransforms){let t=p;for(let e in o)t+=`${f[e]}${o[e]}) `;s.transform=t,h=0}l=l._next}E&&t.onRender(t)}return D&&x&&(d===1/0?t._startTime+=t.duration:t._currentIteration>=d-1&&(t.paused=!0,t.completed||(t.completed=!0,t.onComplete(t),t._resolve(t)))),E},ft=(t,e,s,i,n)=>{if(mt(t,e,s,i,n),t._hasChildren){let r=0;const o=i?e:t._iterationTime,a=R();dt(t,(e=>{r+=mt(e,(o-e._offset)*e._speed,s,i,e._fps<t._fps?e.requestTick(a):n)}),t._backwards),t.began&&r&&t.onRender(t)}},gt={animation:null,update:g},yt=t?requestAnimationFrame:setImmediate,bt=t?cancelAnimationFrame:clearImmediate;class vt extends _t{constructor(){super();const t=R();this.currentTime=t,this._elapsedTime=t,this._startTime=t,this._lastTime=t,this.useDefaultMainLoop=!0,this.suspendWhenHidden=!0,this._reqId=0,this._head=null,this._tail=null}update(){const t=this.currentTime=R();if(this.requestTick(t)){this.computeDeltaTime(t);const e=this._speed,s=this._fps;let i=this._head;for(;i;){const n=i._next;i.paused?(ct(Tt,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):ft(i,(t-i._startTime)*i._speed*e,0,0,i._fps<s?i.requestTick(t):1),i=n}gt.update()}}start(){return this.useDefaultMainLoop&&!this._reqId?this._reqId=yt(xt):0}resume(){return dt(this,(t=>t.resetTime())),this.start()}suspend(){return this._reqId=bt(this._reqId),this}get playbackRate(){return super.playbackRate}set playbackRate(t){super.playbackRate=t,dt(this,(t=>t.playbackRate=t._speed))}}const Tt=new vt,xt=()=>{Tt._head?(Tt._reqId=yt(xt),Tt.update()):Tt._reqId=0},St=t=>{if(!P(t)){if(C(t)){const e=[].concat(...t.map(lt));return e.filter(((t,s)=>e.indexOf(t)===s))}return lt(t)}},wt=t=>{if(P(t))return;const e=St(t);for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!s[n]){s[n]=!0;const t=I(s);(s.nodeType||t)&&(s[r]=!0,s[o]=t,s[a]={})}}return e},Nt=t=>t,Dt=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,$t=et/2,kt=2*et,Bt=(t=1.64)=>e=>X(e,+t),Rt={[p]:Bt,Quad:Bt(2),Cubic:Bt(3),Quart:Bt(4),Quint:Bt(5),Sine:t=>1-H(t*$t),Circ:t=>1-Y(1-t*t),Expo:t=>t?X(2,10*t-10):0,Bounce:t=>{let e,s=4;for(;t<((e=X(2,--s))-1)/11;);return 1/X(4,3-s)-7.5625*X((3*e-2)/22-t,2)},Back:(t=1.70158)=>e=>(+t+1)*e*e*e-+t*e*e,Elastic:(t=1,e=.3)=>{const s=st(+t,1,10),i=st(+e,u,2),n=i/kt*J(1/s),r=kt/i;return t=>0===t||1===t?t:-s*X(2,-10*(1-t))*z((1-t-n)*r)}},Ct={in:t=>e=>t(e),out:t=>e=>1-t(1-e),inOut:t=>e=>e<.5?t(2*e)/2:1-t(-2*e+2)/2,outIn:t=>e=>e<.5?(1-t(1-2*e))/2:(t(2*e-1)+1)/2},Mt=(...t)=>{const e=t.length;if(!e)return Nt;const s=e-1,i=t[0],n=t[s],r=[0],o=[V(i)];for(let e=1;e<s;e++){const i=t[e],n=E(i)?i.trim().split(" "):[i],a=n[0],l=n[1];r.push(O(l)?e/s:V(l)/100),o.push(V(a))}return o.push(V(n)),r.push(1),function(t){for(let e=1,s=r.length;e<s;e++){const s=r[e];if(t<=s){const i=r[e-1],n=o[e-1];return n+(o[e]-n)*(t-i)/(s-i)}}return o[o.length-1]}},At={linear:Mt,irregular:(t=10,e=1)=>{const s=[0],i=t-1;for(let t=1;t<i;t++){const n=s[t-1],r=t/i,o=r*(1-e)+(r+((t+1)/i-r)*Math.random())*e;s.push(st(o,n,1))}return s.push(1),Mt(...s)},steps:(t=10,e)=>{const s=e?G:Q;return e=>s(st(e,0,1)*t)*(1/t)},cubicBezier:(t,e,s,i)=>t===e&&s===i?Nt:n=>0===n||1===n?n:Dt(((t,e,s)=>{let i,n,r=0,o=1,a=0;do{n=r+(o-r)/2,i=Dt(n,e,s)-t,i>0?o=n:r=n}while(Z(i)>1e-7&&++a<100);return n})(n,t,s),e,i)},Et={linear:Nt};for(let t in Ct)for(let e in Rt){const s=Rt[e],i=Ct[t],n=e===p||"Back"===e||"Elastic"===e,r=n?(t,e)=>i(s(t,e)):i(s),o=t+e;At[o]=r,Et[o]=n?r():r}const Lt=t=>L(t)?t:E(t)?Et[t]?Et[t]:(t=>{if(t.indexOf("(")<=-1)return Nt;const e=t.slice(0,-1).split("("),s=At[e[0]];return s?Et[t]=s(...e[1].split(",")):Nt})(t):Nt,Ot=t=>{const e=St(t)[0];if(e&&I(e))return e},Pt=(t,e,s=0)=>t.getPointAtLength(e+s>=1?e+s:0),It=(t,e)=>s=>{const i=+t.getTotalLength(),n=s[o],r=t.getCTM();return{from:0,to:i,modifier:s=>{if("a"===e){const e=Pt(t,s,-1),i=Pt(t,s,1);return 180*tt(i.y-e.y,i.x-e.x)/et}{const i=Pt(t,s,0);return"x"===e?n?i.x:i.x*r.a+i.y*r.c+r.e:n?i.y:i.x*r.b+i.y*r.d+r.f}}}},qt=["opacity","rotate","overflow","color"],Wt={morphTo:(t,e=.33)=>s=>{const i=Ot(t);if(!i)return;const n="path"===s.tagName,r=n?" ":",",o=s[l];o&&s.setAttribute(n?"d":"points",o);let a="",h="";if(e){const t=s.getTotalLength(),o=i.getTotalLength(),l=Math.max(Math.ceil(t*e),Math.ceil(o*e));for(let e=0;e<l;e++){const u=e/(l-1),d=s.getPointAtLength(t*u),c=i.getPointAtLength(o*u),p=n?0===e?"M":"L":"";a+=p+it(d.x,3)+r+d.y+" ",h+=p+it(c.x,3)+r+c.y+" "}}else a=s.getAttribute(n?"d":"points"),h=i.getAttribute(n?"d":"points");return s[l]=h,[a,h]},createMotionPath:t=>{const e=Ot(t);if(e)return{x:It(e,"x"),y:It(e,"y"),angle:It(e,"a")}},createDrawable:(t,e=0,s=0)=>{const i=St(t);return i.forEach(((t,n)=>i[n]=function(t,e,s){const i=t.getTotalLength(),n=c,r=it(n/i,2),o=new Proxy(t,{get(t,e){const s=t[e];return e===h?t:"setAttribute"===e?(...e)=>{if("draw"===e[0]){const s=e[1].split(" "),i=+s[0],o=+s[1],a=0!==i&&i===o||1===i||1===o?0:r,l=it(i*-n,2),h=it(o*n+l,2),u=it(n-h,2);t.setAttribute("stroke-dashoffset",`${l+a}`),t.setAttribute("stroke-dasharray",`${h+a} ${u+a}`)}return Reflect.apply(s,t,e)}:L(s)?(...e)=>Reflect.apply(s,t,e):s}});return"1000"!==t.getAttribute("pathLength")&&(t.setAttribute("pathLength","1000"),o.setAttribute("draw",`${e} ${s}`)),o}(t,e,s))),i}},Ft=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t),Ut=(t,e)=>O(t)?e:t,Vt=(t,e,s,i,n)=>{if(L(t)){const r=()=>{const n=t(e,s,i);return isNaN(+n)?n||0:+n};return n&&(n.func=r),r()}return t},Xt=(t,e)=>{const s=t[r]?t[o]&&((t,e)=>{if(qt.includes(e))return!1;if(e in t.style||e in t){if("scale"===e){const e=t.parentNode;return e&&"filter"===e.tagName}return!0}})(t,e)?2:m.includes(e)||_.get(e)?4:B(e,"--")?5:e in t.style?3:P(t.getAttribute(e))?O(t[e])?0:1:2:1;return 0===s&&console.warn(`Can't find property '${e}' on target '${t}'.`),s},Yt=(t,e,s)=>{const i=t.style[e];i&&s&&(s[e]=i);const n=i||getComputedStyle(t[h]||t).getPropertyValue(e);return"auto"===n?"0":n},zt=(t,e,s,i)=>{const n=O(s)?Xt(t,e):s;return 1===n?t[e]||0:2===n?t.getAttribute(e):4===n?((t,e,s)=>{const i=t.style.transform;let n;if(i){const r=t[a];let o;for(;o=D.exec(i);){const t=o[1],i=o[2].slice(1,-1);r[t]=i,t===e&&(n=i,s&&(s[e]=i))}}return i&&!O(n)?n:B(e,"scale")?"1":B(e,"rotate")||B(e,"skew")?"0deg":"0px"})(t,e,i):5===n?Yt(t,e,i).trimStart():Yt(t,e,i)},Ht=(t,e,s)=>"-"===s?t-e:"+"===s?t+e:t*e,Zt=(t,e)=>{if(e.t=0,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!t)return e;let s=t;const i=+s;if(isNaN(i)){const t=$.exec(s);t&&(s=s.slice(2),e.o=t[0][0]);const i=!s.includes(" ")&&w.exec(s);if(i)return e.t=1,e.n=+i[1],e.u=i[2],e;if(e.o)return e.n=+s,e;if(q(r=s)||W(r)||F(r))return e.t=2,e.d=W(n=s)?(t=>{const e=b.exec(t)||v.exec(t),s=O(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],s]})(n):q(n)?(t=>{const e=t.length,s=4===e||5===e;return[+("0x"+t[1]+t[s?1:2]),+("0x"+t[s?2:3]+t[s?2:4]),+("0x"+t[s?3:5]+t[s?3:6]),5===e||9===e?+(+("0x"+t[s?4:7]+t[s?4:8])/255).toFixed(3):1]})(n):F(n)?(t=>{const e=T.exec(t)||x.exec(t),s=+e[1]/360,i=+e[2]/100,n=+e[3]/100,r=O(e[4])?1:+e[4];let o,a,l;if(0===i)o=a=l=n;else{const t=n<.5?n*(1+i):n+i-n*i,e=2*n-t;o=it(255*Ft(e,t,s+1/3),0),a=it(255*Ft(e,t,s),0),l=it(255*Ft(e,t,s-1/3),0)}return[o,a,l,r]})(n):[0,0,0,1],e;{const t=s+p,i=t.match(S);return e.t=3,e.d=i?i.map(Number):[],e.s=t.split(S)||[],e}}var n,r;return e.n=i,e},jt=(t,e)=>(e.t=t._valueType,e.n=t._toNumber,e.u=t._unit,e.o=null,e.d=ht(t._toNumbers),e.s=ht(t._strings),e),Gt={t:0,n:0,u:null,o:null,d:null,s:null},Qt={},Jt=(t,e,s)=>{if(4===s)return _.get(t)||t;if(3===s||2===s&&I(e)&&t in e.style){const e=Qt[t];if(e)return e;{const e=t.replace(N,"$1-$2").toLowerCase();return Qt[t]=e,e}}return t},Kt={deg:1,rad:180/et,turn:360},te=t=>(t.offsetWidth||0)/100,ee={},se=(t,e,i)=>{const n=e.u,r=e.n;if(1===e.t&&n===i)return e;const o=r+n+i,a=ee[o];if(O(a)){let a;if(n in Kt)a=r*Kt[n]/Kt[i];else{const e=100,o=s.createElement(t.tagName),l=o.style,h=t.parentNode,u=h&&h!==s?h:s.body;u.appendChild(o),l.position="absolute",l.width=e+n;const d=te(o);l.width=e+i;const c=d/te(o);u.removeChild(o),a=c*r}e.n=a,ee[o]=a}else e.n=a;return e.t,e.u=i,e},ie={_rep:new WeakMap,_add:new Map},ne=(t,e,s="_rep")=>{const i=ie[s];let n=i.get(t);return n||(n={},i.set(t,n)),n[e]?n[e]:n[e]={_head:null,_tail:null}},re=(t,e)=>t._isOverridden||t._absoluteStartTime>e._absoluteStartTime,oe=t=>{t._isOverlapped=1,t._isOverridden=1,t._changeDuration=u,t._currentTime=u},ae=(t,e)=>{const s=t._composition;if(s===i.replace){const s=t._absoluteStartTime;pt(e,t,re,"_prevRep","_nextRep");const i=t._prevRep;if(i){const e=i.parent,n=i._absoluteStartTime+i._changeDuration;if(t.parent.id!==e.id&&e._iterationCount>1&&n+(e.duration-e._iterationDuration)>s){oe(i);let t=i._prevRep;for(;t&&t.parent.id===e.id;)oe(t),t=t._prevRep}const r=s-t._delay;if(n>r){const t=i._startTime,e=n-(t+i._updateDuration);i._changeDuration=r-e-t,i._currentTime=i._changeDuration,i._isOverlapped=1,i._changeDuration<u&&oe(i)}let o=0;dt(e,(t=>{o-=t._isOverridden-1})),0===o&&(e.completed=!0,e.pause())}}else if(s===i.blend){const e=ne(t.target,t.property,"_add"),s=(t=>{let e=gt.animation;return e||(e={duration:u,_offset:0,_delay:0,_head:null,_tail:null},gt.animation=e,gt.update=()=>{t.forEach((t=>{for(let e in t){const s=t[e],i=s._head,n=3===i._valueType?ht(i._fromNumbers):null;let r=i._fromNumber,o=s._tail;for(;o&&o!==i;)n?o._numbers.forEach(((t,e)=>n[e]+=t)):r+=o._number,o=o._prevAdd;i._toNumber=r,i._toNumbers=n}})),ft(e,1,1,0,2)}),e})(ie._add);let n=e._head;n||(n={...t},n._composition=i.replace,n._updateDuration=u,n._startTime=0,n._numbers=ht(t._fromNumbers),n._number=0,n._next=null,n._prev=null,pt(e,n),pt(s,n));const r=t._toNumber;if(t._fromNumber=n._fromNumber-r,t._toNumber=0,t._numbers=ht(t._fromNumbers),t._number=0,n._fromNumber=r,t._toNumbers){const e=ht(t._toNumbers);e&&e.forEach(((e,s)=>{t._fromNumbers[s]=n._fromNumbers[s]-e,t._toNumbers[s]=0})),n._fromNumbers=e}pt(e,t,null,"_prevAdd","_nextAdd")}return t},le=t=>{const e=t._composition;if(e!==i.none){const s=t.target,n=t.property,r=ne(s,n);if(ct(r,t,"_prevRep","_nextRep"),e===i.blend){const e=ne(s,n,"_add");ct(e,t,"_prevAdd","_nextAdd")}}return t},he=t=>(t.paused=!0,t.began=!1,t.completed=!1,t),ue=t=>t._cancelled?(t._hasChildren?dt(t,ue):dt(t,(t=>{t._composition!==i.none&&ae(t,ne(t.target,t.property))})),t._cancelled=0,t):t;let de=0;class ce extends _t{constructor(t={},e=null,s=0){super();const{id:i,delay:n,duration:r,reversed:o,alternate:a,loop:l,loopDelay:h,autoplay:d,frameRate:c,playbackRate:p,onComplete:_,onLoop:m,onBegin:f,onUpdate:y}=t,b=e?0:Tt._elapsedTime,v=e?e.defaults:k,T=L(n)||O(n)?v.delay:+n,x=L(r)||O(r)?1/0:+r,S=Ut(l,v.loop),w=Ut(h,v.loopDelay),N=!0===S||S===1/0||S<0?1/0:S+1;this.id=O(i)?r===u?0:++de:i,this.duration=ot((x+w)*N-w),this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=f||v.onBegin,this.onUpdate=y||v.onUpdate,this.onLoop=m||v.onLoop,this.onComplete=_||v.onComplete,this._autoplay=!e&&Ut(d,v.autoplay),this._offset=e?s:Tt._elapsedTime-Tt._startTime,this._delay=T,this._loopDelay=w,this._iterationTime=0,this._iterationDuration=x,this._iterationCount=N,this._currentIteration=0,this._resolve=g,this._hasChildren=!1,this._running=!1,this._cancelled=0,this._reversed=+Ut(o,v.reversed),this._alternate=Ut(a,v.alternate),this._backwards=!1,this._prev=null,this._next=null,this._elapsedTime=b,this._startTime=b,this._lastTime=b,this._fps=Ut(c,v.frameRate),this._speed=Ut(p,v.playbackRate)}reset(t=0){return ue(this),this._iterationTime=this._iterationDuration,ft(this,0,1,t,2),he(this),this._hasChildren&&dt(this,he),this}init(t=0){return this.frameRate=this._fps,this.playbackRate=this._speed,!t&&this._hasChildren&&ft(this,this.duration,1,t,2),this.reset(t),this._autoplay&&this.play(),this}resetTime(){const t=1/(this._speed*Tt._speed);return this._startTime=R()-(this.currentTime+this._delay)*t-12,this}pause(){return this.paused||(this.paused=!0),this}play(){return this.paused?((this.completed||this._cancelled)&&this.reset(0),this.paused=!1,this.duration<=u?ft(this,1,0,0,2):(this._running||(pt(Tt,this),Tt._hasChildren=!0,this._running=!0),this.resetTime(),Tt.start()),this):this}restart(){return this.reset(0).play()}seek(t,e){ue(this),this.completed=!1;const s=this.paused;return this.paused=!0,ft(this,t+this._delay,~~e,0,1),s?this:this.play()}reverse(){const t=this._reversed;return this._reversed=+(!this._alternate||this._iterationCount%2?!t:t),this.seek(this.duration-this.currentTime),this.resetTime(),this}cancel(){return this._hasChildren?dt(this,(t=>t.cancel()),!0):dt(this,le),this._cancelled=1,this.pause()}stretch(t){const e=this.duration;if(e===t)return this;const s=t/e;return this.duration=at(ot(e*s)),this._iterationDuration=at(ot(this._iterationDuration*s)),this._offset*=s,this._delay*=s,this._loopDelay*=s,this}then(t=g){const e=()=>{this.then=null,t(this)};return new Promise((t=>this.completed?t(e()):this._resolve=()=>t(e())))}get progress(){return it(this.currentTime/this.duration,3)}set progress(t){const e=this.paused;this.pause().seek(this.duration*+t),e||this.play()}get playbackRate(){return super.playbackRate}set playbackRate(t){super.playbackRate=t,this.resetTime()}}const pe=t=>{if(t._hasChildren)dt(t,pe,!0);else{const e=t;e.pause(),dt(e,(t=>{const s=t.property,i=t.target;if(i[r]){const n=i.style,r=e._inlineStyles[s];if(4===t._tweenType){const e=i[a];if(O(r)||r===p?delete e[s]:e[s]=r,t._renderTransforms)if(Object.keys(e).length){let t=p;for(let s in e)t+=f[s]+e[s]+") ";n.transform=t}else n.removeProperty("transform")}else O(r)||r===p?n.removeProperty(s):n[s]=r;e._tail===t&&e.targets.forEach((t=>{t.getAttribute("style")===p&&t.removeAttribute("style")}))}}))}return t},_e={t:0,n:0,u:null,o:null,d:null,s:null},me={t:0,n:0,u:null,o:null,d:null,s:null},fe={func:null},ge=[null],ye=[null,null],be={to:null};let ve,Te,xe=0;class Se extends ce{constructor(t,e,s,n,r=!1,o=0,a=0){super(e,s,n),this._head=null,this._tail=null;const l=wt(t),h=l.length,d=e.keyframes,p=d?ut(((t,e)=>{const s={};if(C(t)){const e=[].concat(...t.map((t=>Object.keys(t)))).filter(U);for(let i=0,n=e.length;i<n;i++){const n=e[i],r=t.map((t=>{const e={};for(let s in t){const i=t[s];U(s)?s===n&&(e.to=i):e[s]=i}return e}));s[n]=r}}else{const i=Ut(e.duration,k.duration),n=Object.keys(t).map((e=>({o:parseFloat(e)/100,p:t[e]}))).sort(((t,e)=>t.o-e.o));n.forEach((t=>{const e=t.o,n=t.p;for(let t in n)if(U(t)){let r=s[t];r||(r=s[t]=[]);const o=e*i;let a=r.length,l=r[a-1];const h={to:n[t]};let u=0;for(let t=0;t<a;t++)u+=r[t].duration;1===a&&(h.from=l.to),n.ease&&(h.ease=n.ease),h.duration=o-(a?u:0),r.push(h)}return t}));for(let t in s){const e=s[t];let i;for(let t=0,s=e.length;t<s;t++){const s=e[t],n=s.ease;i&&(s.ease=i),i=n}e[0].duration||e.shift()}}return s})(d,e),e):e,{delay:_,duration:m,ease:f,playbackEase:g,modifier:y,composition:b,onRender:v}=p,T=s?s.defaults:k,x=Ut(g,T.playbackEase),S=x?Lt(x):null,w=!O(f)&&M(f),N=w?f.solver:Ut(f,S?"linear":T.ease),D=w?f.duration:Ut(m,T.duration),$=Ut(_,T.delay),B=y||T.modifier,R=O(b)&&h>=c?i.none:O(b)?A(T.composition)?T.composition:i[T.composition]:A(b)?b:i[b],E={},L=this._offset;let P=NaN,I=NaN,q=0;for(let t=0;t<h;t++){const e=l[t],n=o||t,d=a||h;let c=NaN,_=NaN;for(let t in p)if(U(t)){const o=Xt(e,t);if(0!==o){const a=Jt(t,e,o);let l=p[t];if(r&&(ye[0]=l,ye[1]=l,l=ye),C(l)){const t=l.length,e=!M(l[0]);2===t&&e?(be.to=l,ge[0]=be,ve=ge):t>2&&e?(ve=[],l.forEach(((t,e)=>{e?1===e?(ye[1]=t,ve.push(ye)):ve.push(t):ye[0]=t}))):ve=l}else ge[0]=l,ve=ge;let h=null,m=null,f=NaN,g=0,y=0;for(let t=ve.length;y<t;y++){const r=ve[y];M(r)?Te=r:(be.to=r,Te=be),fe.func=null;const l=Vt(Te.to,e,n,d,fe);let c;M(l)&&!O(l.to)?(Te=l,c=l.to):c=l;const p=Vt(Te.from,e,n,d),_=Te.ease,b=!O(_)&&M(_),v=b?_.solver:_||N,T=b?_.duration:Vt(Ut(Te.duration,t>1?Vt(D,e,n,d)/t:D),e,n,d),x=Vt(Ut(Te.delay,y?0:$),e,n,d),S=Vt(Ut(Te.composition,R),e,n,d),w=Te.modifier||B,k=C(c),A=k||!O(p)&&!O(c),P=m?g+x:x,I=L+P;let W=m;if(S!==i.none){h||(h=ne(e,a));let t=h._head;for(;t&&!t._isOverridden&&t._absoluteStartTime<=I;)if(W=t,t=t._nextRep,t&&t._absoluteStartTime>=I)for(;t;)oe(t),t=t._nextRep}if(A?(Zt(k?Vt(c[0],e,n,d):p,_e),Zt(k?Vt(c[1],e,n,d,fe):c,me),0===_e.t&&(W?1===W._valueType&&(_e.t=1,_e.u=W._unit):(Zt(zt(e,a,o,E),Gt),1===Gt.t&&(_e.t=1,_e.u=Gt.u)))):(O(c)?m?jt(m,me):Zt(s&&W?W._value:zt(e,a,o,E),me):Zt(c,me),O(p)?m?jt(m,_e):Zt(s&&W?W._value:zt(e,a,o,E),_e):Zt(p,_e)),_e.o&&(_e.n=Ht(W?W._toNumber:Zt(zt(e,a,o,E),Gt).n,_e.n,_e.o)),me.o&&(me.n=Ht(_e.n,me.n,me.o)),_e.t!==me.t)if(3===_e.t||3===me.t){const t=3===_e.t?_e:me,e=3===_e.t?me:_e;e.t=3,e.s=ht(t.s),e.d=t.d.map((()=>e.n))}else if(1===_e.t||1===me.t){const t=1===_e.t?_e:me,e=1===_e.t?me:_e;e.t=1,e.u=t.u}else if(2===_e.t||2===me.t){const t=2===_e.t?_e:me,e=2===_e.t?me:_e;e.t=2,e.s=t.s,e.d=[0,0,0,1]}if(_e.u!==me.u){let t=me.u?_e:me;t=se(e,t,me.u?me.u:_e.u)}if(me.d&&_e.d&&me.d.length!==_e.d.length){const t=_e.d.length>me.d.length?_e:me,e=t===_e?me:_e;e.d=t.d.map(((t,s)=>O(e.d[s])?0:e.d[s])),e.s=ht(t.s)}const F=+T||u,U={parent:this,id:xe++,property:a,target:e,_value:null,_func:fe.func,_ease:Lt(v),_fromNumbers:ht(_e.d),_toNumbers:ht(me.d),_strings:ht(me.s),_fromNumber:_e.n,_toNumber:me.n,_numbers:null,_number:0,_unit:me.u,_modifier:w,_currentTime:0,_startTime:P,_delay:+x,_updateDuration:F,_changeDuration:F,_absoluteStartTime:I,_tweenType:o,_valueType:me.t,_composition:S,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};S!==i.none&&ae(U,h),isNaN(f)&&(f=U._startTime),g=P+F,m=U,q++,pt(this,U)}(isNaN(I)||f<I)&&(I=f),(isNaN(P)||g>P)&&(P=g),4===o&&(c=q-y,_=q)}}if(!isNaN(c)){let t=0;dt(this,(e=>{t>=c&&t<_&&(e._renderTransforms=1,e._composition===i.blend&&dt(gt.animation,(t=>{t.id===e.id&&(t._renderTransforms=1)}))),t++}))}}h||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),I?(dt(this,(t=>{t._startTime-t._delay||(t._delay-=I),t._startTime-=I})),P-=I):I=0,P||(P=u,this._iterationCount=0),this.targets=l,this.duration=ot((P+this._loopDelay)*this._iterationCount-this._loopDelay)||u,this.onRender=v||T.onRender,this._ease=S,this._delay=I,this._iterationDuration=P,this._inlineStyles=E}stretch(t){const e=this.duration;if(e===t)return this;const s=t/e;return dt(this,(t=>{t._updateDuration=at(t._updateDuration*s),t._changeDuration=at(t._changeDuration*s),t._currentTime*=s,t._startTime*=s,t._absoluteStartTime*=s})),super.stretch(t)}refresh(){return dt(this,(t=>{const e=zt(t.target,t.property,t._tweenType);Zt(e,Gt),t._fromNumbers=ht(Gt.d),t._fromNumber=Gt.n,t._func&&(Zt(t._func(),me),t._toNumbers=ht(me.d),t._toNumber=me.n)})),this}revert(){return ft(this,0,1,0,2),pe(this),this.cancel()}then(t){return super.then(t)}}const we=(t,e)=>{let s=t._iterationDuration;if(s===u&&(s=0),O(e))return s;if(A(+e))return+e;const i=e,n=t?t.labels:null,r=!P(n),o=((t,e)=>{if(B(e,"<")){const s="<"===e[1],i=t._tail,n=i?i._offset+i._delay:0;return s?n:n+i.duration}})(t,i),a=!O(o),l=$.exec(i);if(l){const t=l[0],e=i.split(t),h=r&&e[0]?n[e[0]]:s,u=a?o:r?h:s,d=+e[1];return Ht(u,d,t[0])}return a?o:r?O(n[i])?s:n[i]:s};function Ne(t,e,s,i,n,r){const o=A(t.duration)&&t.duration<=u?s-u:s;ft(e,o,1,1,1);const a=i?new Se(i,t,e,o,!1,n,r):new ce(t,e,o);return a.init(1),pt(e,a),dt(e,(t=>{const s=t._offset+t._delay+t.duration;s>e._iterationDuration&&(e._iterationDuration=s)})),e.duration=ot((e._iterationDuration+e._loopDelay)*e._iterationCount-e._loopDelay),e}class De extends ce{constructor(t={}){super(t,null,0),this.duration=0,this.labels={};const e=t.defaults;this.defaults=t&&e?ut(e,k):k,this.onRender=t.onRender||k.onRender;const s=Ut(t.playbackEase,k.playbackEase);this._ease=s?Lt(s):null,this._iterationDuration=0,this._head=null,this._tail=null}add(t,e,s){const i=M(e),n=M(t),r=L(t);if(i||n||r){if(this._hasChildren=!0,i){const i=e;if(L(s)){const e=s,n=St(t),r=this.duration,o=this._iterationDuration,a=i.id;let l=0;const h=n.length;n.forEach((t=>{const s={...i};this.duration=r,this._iterationDuration=o,O(a)||(s.id=a+"-"+l),Ne(s,this,e(t,l,h,this),t,l,h),l++}))}else Ne(i,this,we(this,s),t)}else Ne(n?t:{onComplete:t,duration:u},this,we(this,e));return this.init(1),this._autoplay?this.play():this}if(E(t))return this.labels[t]=we(this,e),this}set(t,e,s){return O(e)?this:(e.duration=u,e.composition=i.replace,this.add(t,e,s))}stretch(t){const e=this.duration;if(e===t)return this;const s=t/e,i=this.labels;dt(this,(t=>{t.stretch(t.duration*s)}));for(let t in i)i[t]*=s;return super.stretch(t)}refresh(){return dt(this,(t=>{t.refresh()})),this}revert(){return ft(this,0,1,0,2),pe(this),dt(this,(t=>t.revert),!0),this.cancel()}then(t){return super.then(t)}}function $e(t,e,s){const i=wt(t);if(!(P(i)||C(i)&&!i.length)&&i&&i.length){const[t]=i,n=Xt(t,e),r=Jt(e,t,n);let o=zt(t,r);if(O(s))return o;if(Zt(o,Gt),0===Gt.t||1===Gt.t){if(!1===s)return Gt.n;{const e=se(t,Gt,s);return`${it(e.n,3)}${e.u}`}}}}const ke=(t,e)=>{if(!O(e))return e.duration=u,e.composition=Ut(e.composition,i.none),new Se(t,e,null,0,!0).play()},Be=(t,e)=>{let s=!1;return dt(e,(i=>{t.includes(i.target)&&(ct(e,i),s=!0)}),!0),s},Re=(t,e)=>{const s=St(t),i=e||Tt;let n;if(i._hasChildren?dt(i,(e=>{e._hasChildren||(n=Be(s,e),n&&!e._head&&ct(i,e)),e._head?Re(t,e):e._hasChildren=!1}),!0):n=Be(s,i),n&&!i._head){i._hasChildren=!1;const t=i;t.pause&&t.pause()}return s},Ce=(t,e,s)=>{const i=10**(s||0);return Q((Math.random()*(e-t+1/i)+t)*i)/i},Me=t=>(...e)=>{const s=t(...e);return new Proxy(g,{apply:(t,e,[i])=>s(i),get:(t,e)=>Me(((...t)=>{const i=Ee[e](...t);return t=>i(s(t))}))})},Ae=(t,e=0)=>(...s)=>(s.length<t.length?Me(((t,e=0)=>(...s)=>e?e=>t(...s,e):e=>t(e,...s))(t,e)):t)(...s),Ee={$:wt,get:$e,set:ke,remove:Re,cleanInlineStyles:pe,random:Ce,randomPick:t=>t[Ce(0,t.length-1)],shuffle:t=>{let e,s,i=t.length-1;for(;i;)s=Ce(0,i--),e=t[i],t[i]=t[s],t[s]=e;return t},lerp:(t,e,s,i)=>{const n=i||Tt._hasChildren&&Tt;let r=s;return n&&n.deltaTime&&(r=1-Math.exp(-s*n.deltaTime*.1)),(1-r)*t+r*e},clamp:Ae(st),round:Ae(it),snap:Ae(nt),wrap:Ae(((t,e,s)=>((t-e)%(s-e)+(s-e))%(s-e)+e)),interpolate:Ae(rt,1),mapRange:Ae(((t,e,s,i,n)=>i+(t-e)/(s-e)*(n-i))),roundPad:Ae(((t,e)=>t.toFixed(e))),padStart:Ae(((t,e,s)=>`${t}`.padStart(e,s))),padEnd:Ae(((t,e,s)=>`${t}`.padEnd(e,s))),degToRad:Ae((t=>t*et/180)),radToDeg:Ae((t=>180*t/et))},Le=new Map,Oe=(t=1,e=100,s=10,i=0)=>{const n=[t,e,s,i];let r=Le.get(n);if(!r){const o=st(t,0,c),a=st(e,1,c),l=st(s,.1,c),h=st(Y(a/o),u,c),d=l/(2*Y(a*o)),p=d<1?h*Y(1-d*d):0,_=d<1?(d*h-i)/p:-i+h,m=c/60/100,f=1e-4,g=t=>1-(d<1?j(-t*d*h)*(1*H(p*t)+_*z(p*t)):(1+_*t)*j(-t*h)),y=(()=>{let t=0;for(;;){if(Z(1-g(t))<f){const e=t;let s=1;for(;t+=m,!(Z(1-g(t))>=f);)if(s++,16===s)return e}t+=m}})();r={duration:it(y*c,0),solver:t=>it(g(y*t),3)},Le.set(n,r)}return r},Pe=(t,e={})=>{let s=[],i=0;const n=e.from,r=e.reversed,o=e.ease,a=!O(o),l=a&&M(o)?o.solver:a?Lt(o):null,h=e.grid,u=e.axis,d=O(n)||0===n||"first"===n,c="center"===n,p="last"===n,_=C(t),m=V(_?t[0]:t),f=_?V(t[1]):0,g=w.exec(_?t[1]:t),y=e.start||0+(_?m:0);let b=d?0:A(n)?n:0;return(t,n,o,a)=>{if(c&&(b=(o-1)/2),p&&(b=o-1),!s.length){for(let t=0;t<o;t++){if(h){const e=c?(h[0]-1)/2:b%h[0],i=c?(h[1]-1)/2:Q(b/h[0]),n=e-t%h[0],r=i-Q(t/h[0]);let o=Y(n*n+r*r);"x"===u&&(o=-n),"y"===u&&(o=-r),s.push(o)}else s.push(Z(b-t));i=K(...s)}l&&(s=s.map((t=>l(t/i)*i))),r&&(s=s.map((t=>u?t<0?-1*t:-t:Z(i-t))))}const d=_?(f-m)/i:m;let v=(a?we(a,O(e.start)?a._iterationDuration:y):y)+(d*it(s[n],2)||0);return e.modifier&&(v=e.modifier(v)),g&&(v=`${v}${g[2]}`),v}};class Ie{constructor(t,e){const s={},i={};if(!O(t)&&!O(e)){for(let t in e){const n=e[t];U(t)?i[t]=n:s[t]=n}for(let e in i){const n=i[e],r=M(n);let o={},a="+=0";r?E(n.to)&&(a+=n.to):o.duration=n,o[e]=r?ut({to:a},n):a;const l=ut(s,o),h=new Se(t,l,null,0,!1).init();this[e]=(t,e,s)=>{if(O(t)){const t=h._head;return t._modifier(t._number)}{const i=O(s)?null:Lt(s);return dt(h,(e=>{e._fromNumber=e._number,e._toNumber=t,e._currentTime=0,i&&(e._ease=i)})),O(e)||h.stretch(e),h.seek(0).resetTime().play()}}}}}}class qe{constructor(t){this.$el=t,this.inlineTransforms=[],this.point=new DOMPoint,this.inversedMatrix=this.getMatrix().inverse()}normalizePoint(t,e){return this.point.x=t,this.point.y=e,this.point.matrixTransform(this.inversedMatrix)}traverseUp(t){let e=this.$el.parentNode,i=0;for(;e&&e!==s;)t(e,i),e=e.parentNode,i++}getMatrix(){const t=new DOMMatrix;return this.traverseUp((e=>{const s=new DOMMatrix($e(e,"transform"));t.preMultiplySelf(s)})),t}remove(){this.traverseUp(((t,e)=>{this.inlineTransforms[e]=t.style.transform,t.style.transform="none"}))}revert(){this.traverseUp(((t,e)=>{const s=this.inlineTransforms[e];""===s?t.style.removeProperty("transform"):t.style.transform=s}))}}let We=0;class Fe{constructor(t,i={}){if(!t)return;const n={},r=i.x,o=i.y,a=i.trigger,l=i.modifier,h=i.container,u=i.ease,c=M(r)&&!O(r.mapTo)?r.mapTo:"x",p=M(o)&&!O(o.mapTo)?o.mapTo:"y";l&&(n.modifier=l),this.margin=Ut(i.margin,0),this.snap=Ut(i.snap,0),this.scrollSpeed=Ut(i.scrollSpeed,15),this.dragSpeed=Ut(i.dragSpeed,1),this.ease=u?Lt(u):At.out(5),this.onGrab=i.onGrab||g,this.onDrag=i.onDrag||g,this.onDrop=i.onDrop||g,this.onSnap=i.onSnap||g,this.disabled=[0,0],this.containerBoundsFriction=Ut(i.boundsFriction,.125),O(r)?n[c]=0:M(r)?n[c]=r:!1===r&&(n[c]=0,this.disabled[0]=1),O(o)?n[p]=0:M(o)?n[p]=o:!1===o&&(n[p]=0,this.disabled[1]=1),this.container=C(h)?h:null,this.$target=St(t)[0],this.$trigger=St(a||t)[0],this.$container=h&&!this.container?St(h)[0]:s.body;const _=new Ie(this.$target,n);this.x=_[c],this.y=_[p],this.destX=0,this.destY=0,this.scroll={x:0,y:0},this.coords=[this.x(),this.y()],this.snapped=[0,0],this.pointer=[0,0,0,0],this.scrollView=[0,0],this.dragArea=[0,0,0,0],this.containerBounds=[-d,-d,d,d],this.scrollBounds=[0,0,0,0],this.targetBounds=[0,0,0,0],this.window=[0,0],this.speed=0,this.angle=0,this.touchActionStyles=ke(this.$trigger,{touchAction:"none"}),this.triggerStyles=null,this.bodyStyles=null,this.targetStyles=null,this.transforms=new qe(this.$target),this.containerScroll=Ut(i.containerScroll,50),this.updateTicker=new ce({autoplay:!1,onUpdate:()=>this.update()},null,0).init(),this.dragging=!1,this.contained=!O(h),this.useWin=this.$container===s.body,this.$scrollContainer=this.useWin?e:this.$container,this.isFinePointer=matchMedia("(pointer:fine)").matches,this.$trigger.addEventListener("pointerdown",this,!1),this.$trigger.addEventListener("mouseenter",this,!1)}destroy(){this.touchActionStyles.revert(),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null),this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null),this.updateTicker.cancel(),this.$trigger.removeEventListener("pointerdown",this),s.removeEventListener("pointermove",this),s.removeEventListener("pointerup",this),s.removeEventListener("pointercancel",this),e.removeEventListener("selectstart",this)}setPosition(t,e,s,i){this.disabled[0]||(this.destX=t,this.snapped[0]=nt(t,this.snap),this.x(t,s,i)),this.disabled[1]||(this.destY=e,this.snapped[1]=nt(e,this.snap),this.y(e,s,i))}updateScrollCoords(){const t=it(this.useWin?e.scrollX:this.$container.scrollLeft,0),s=it(this.useWin?e.scrollY:this.$container.scrollTop,0),i=this.margin;this.scroll.x=t,this.scroll.y=s,this.scrollBounds[0]=t-this.targetBounds[0]+i,this.scrollBounds[1]=s-this.targetBounds[1]+i,this.scrollBounds[2]=t-this.targetBounds[2]-i,this.scrollBounds[3]=s-this.targetBounds[3]-i}updateBoundingValues(){const t=this.x(),s=this.y(),i=this.window[0]=e.innerWidth,n=this.window[1]=e.innerHeight,r=this.useWin,o=this.containerScroll,a=this.margin,l=this.$container.scrollWidth,h=this.$container.scrollHeight,u=this.$container.getBoundingClientRect();this.dragArea[0]=r?0:u.left,this.dragArea[1]=r?0:u.top,this.scrollView[0]=r?st(l,i,l):l,this.scrollView[1]=r?st(h,n,h):h,this.setPosition(0,0,0),this.transforms.remove(),this.updateScrollCoords();const{width:d,height:c,left:p,top:_,right:m,bottom:f}=this.$container.getBoundingClientRect();if(this.dragArea[2]=it(r?st(d,i,i):d,0),this.dragArea[3]=it(r?st(c,n,n):c,0),this.contained){const t=this.scroll.x,e=this.scroll.y,s=this.$target.getBoundingClientRect(),l=o?r?0:this.$container.scrollLeft:0,h=o?r?0:this.$container.scrollTop:0,u=o?this.scrollView[0]-l-d:0,g=o?this.scrollView[1]-h-c:0;this.targetBounds[0]=s.left+t-(r?0:p),this.targetBounds[1]=s.top+e-(r?0:_),this.targetBounds[2]=s.right+t-(r?i:m),this.targetBounds[3]=s.bottom+e-(r?n:f),this.container?(this.containerBounds[0]=this.container[0],this.containerBounds[1]=this.container[1],this.containerBounds[2]=this.container[2],this.containerBounds[3]=this.container[3]):(this.containerBounds[0]=-it(s.left-p+l-a,0),this.containerBounds[1]=-it(s.top-_+h-a,0),this.containerBounds[2]=-it(s.right-m-u+a,0),this.containerBounds[3]=-it(s.bottom-f-g+a,0))}this.transforms.revert(),this.setPosition(t,s,0)}isOutOfBounds(t,e,s){if(!this.contained)return!1;const[i,n,r,o]=t,[a,l]=this.disabled;return!a&&e<i||!a&&e>r||!l&&s<n||!l&&s>o}update(){const[t,e]=this.pointer,[s,i,n,r]=this.containerBounds,o=this.containerScroll,a=this.containerBoundsFriction;if(this.updateScrollCoords(),!this.container&&this.contained&&o){const[t,e]=this.scrollView,s=this.scroll.x,i=this.scroll.y,n=this.dragArea[2],r=this.dragArea[3],a=this.$container.scrollWidth,l=this.$container.scrollHeight,h=this.useWin?st(a,this.window[0],a):a,u=this.useWin?st(l,this.window[1],l):l,d=t-h,c=e-u;if(d>0||c>0)d>0&&(this.coords[0]-=d,this.scrollView[0]=h),c>0&&(this.coords[1]-=c,this.scrollView[1]=u);else{const a=this.scrollSpeed,[l,h]=this.coords,[u,d,c,p]=this.scrollBounds,_=it(st((l-u)/o,-1,0)*a,0),m=it(st((l-c)/o,0,1)*a,0),f=it(st((h-d)/o,-1,0)*a,0),g=it(st((h-p)/o,0,1)*a,0);if(_||f||m||g){const o=it(st(s+(_||m),0,t-n),0),a=it(st(i+(f||g),0,e-r),0);this.coords[0]-=s-o,this.coords[1]-=i-a,this.$scrollContainer.scrollTo(o,a)}}}this.coords[0]+=(t-this.pointer[2])*this.dragSpeed,this.coords[1]+=(e-this.pointer[3])*this.dragSpeed,this.pointer[2]=t,this.pointer[3]=e;const[l,h]=this.coords,[u,d]=this.snapped;this.setPosition(l>n?n+(l-n)*a:l<s?s+(l-s)*a:l,h>r?r+(h-r)*a:h<i?i+(h-i)*a:h,0);const[c,p]=this.snapped;c===u&&p===d||this.onSnap(this)}handleHover(){this.isFinePointer&&!this.triggerStyles&&(this.triggerStyles=ke(this.$trigger,{cursor:"grab"}))}handleDown(t){if(this.dragging)return;const{x:i,y:n}=this.transforms.normalizePoint(t.clientX,t.clientY);this.dragging=!0,this.updateBoundingValues(),this.x(this.x(),0),this.y(this.y(),0),this.coords[0]=this.x(),this.coords[1]=this.y(),this.pointer[2]=i,this.pointer[3]=n,this.speed=0,this.angle=0,this.targetStyles&&(this.targetStyles.revert(),this.targetStyles=null);const r=$e(this.$target,"zIndex",!1);We=r>We?r:We+1,this.targetStyles=ke(this.$target,{zIndex:We}),this.isFinePointer&&(this.triggerStyles&&(this.triggerStyles.revert(),this.targetStyles=null),this.bodyStyles=ke(s.body,{cursor:"grabbing"})),s.addEventListener("pointermove",this,!1),s.addEventListener("pointerup",this,!1),s.addEventListener("pointercancel",this,!1),e.addEventListener("selectstart",this,!1),this.onGrab(this)}handleMove(t){if(!this.dragging)return;t.preventDefault(),this.triggerStyles||(this.triggerStyles=ke(this.$trigger,{pointerEvents:"none"}));const{x:e,y:s}=this.transforms.normalizePoint(t.clientX,t.clientY),i=this.updateTicker.play().deltaTime,n=e-this.pointer[2],r=s-this.pointer[3];this.speed=i>0?Math.sqrt(n*n+r*r)/i:0,this.angle=Math.atan2(r,n),this.pointer[0]=e,this.pointer[1]=s,this.onDrag(this)}handleUp(){if(!this.dragging)return;this.dragging=!1,this.updateTicker.pause(),this.triggerStyles&&(this.triggerStyles.revert(),this.triggerStyles=null),this.isFinePointer&&this.bodyStyles&&(this.bodyStyles.revert(),this.bodyStyles=null);const[t,i,n,r]=this.containerBounds,[o,a]=this.snapped,l=this.x(),h=this.y();let u=st(l,t,n),c=st(h,i,r),p=650;if(this.isOutOfBounds(this.containerBounds,l,h))this.setPosition(nt(u,this.snap),nt(c,this.snap),p,this.ease);else{const e=this.speed,s=100*e,o=l+(e?Math.cos(this.angle)*s:0),a=h+(e?Math.sin(this.angle)*s:0),d=it(st(s/50,0,20),2),_=Oe(1,80,15,d),m=_.solver;if(p=_.duration,u=st(o,t,n),c=st(a,i,r),this.isOutOfBounds(this.containerBounds,o,a)){const e=!this.disabled[0]&&(o>n||o<t),s=!this.disabled[1]&&(a>r||a<i),d=e&&!s,_=s&&!e,f=_?st(u+.25*(u-l),t,n):u,g=d?st(c+.25*(c-h),i,r):c,y=_?this.ease:m,b=d?this.ease:m;u=nt(f,this.snap),c=nt(g,this.snap),this.disabled[0]||this.x(u,p,y),this.disabled[1]||this.y(c,p,b)}else u=nt(u,this.snap),c=nt(c,this.snap),this.setPosition(u,c,.65*p,this.ease)}if(!this.container&&this.isOutOfBounds(this.scrollBounds,u,c)){const[t,e,s,i]=this.scrollBounds,n=it(st(u-t,-d,0),0),r=it(st(u-s,0,d),0),o=it(st(c-e,-d,0),0),a=it(st(c-i,0,d),0);new Se(this.scroll,{x:it(this.scroll.x+(n||r),0),y:it(this.scroll.y+(o||a),0),duration:.75*p,ease:this.ease,onUpdate:()=>this.$scrollContainer.scrollTo(this.scroll.x,this.scroll.y)}).init()}this.destX=u,this.destY=c,this.onDrop(this),u===o&&c===a||(this.snapped[0]=u,this.snapped[1]=c,this.onSnap(this)),s.removeEventListener("pointermove",this),s.removeEventListener("pointerup",this),s.removeEventListener("pointercancel",this),e.removeEventListener("selectstart",this)}handleEvent(t){switch(t.type){case"pointerdown":this.handleDown(t);break;case"pointermove":this.handleMove(t);break;case"pointerup":case"pointercancel":this.handleUp();break;case"mouseenter":this.handleHover();break;case"selectstart":t.preventDefault()}}}const Ue=t=>new ce(t,null,0).init(),Ve=(t,e)=>new Se(t,e,null,0,!1).init(),Xe=t=>new De(t).init(),Ye=(t,e)=>new Ie(t,e),ze=(t,e)=>new Fe(t,e);t&&(e.AnimeJS||(e.AnimeJS=[]),e.AnimeJS.push({version:"4.0.0-beta.98",engine:Tt}),s.addEventListener("visibilitychange",(()=>Tt.suspendWhenHidden?s.hidden?Tt.suspend():Tt.resume():0)));export{Ie as Animatable,Se as Animation,_t as Clock,Fe as Draggable,vt as Engine,De as Timeline,ce as Timer,Ve as animate,Ye as createAnimatable,ze as createDraggable,Xe as createTimeline,Ue as createTimer,k as defaults,At as eases,Tt as engine,Oe as spring,Pe as stagger,Wt as svg,Ee as utils};
